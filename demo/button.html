<html>
<link rel="stylesheet" href="style.css">

<style>
    a-button > button {
        font-family: Impact, sans-serif;
        font-size: 2em;
        min-width: 10em;
        background-color:inherit;
        border-width: 2px;
        border-radius: 0.3em;
        color: grey;
        border-color: grey;
    }
</style>

<script type="module">
    import { funce, html } from '../lit-funce.js';

    funce("a-button", ['color'], aButton, {shadow: false});
    function aButton({ clicks, color, init, props }) {

        const style = clicks ? `border-color:${color}; color:${color}` : '';

        const label = !clicks ?
            "please click" :
            `thank you ${clicks > 1 && `* ${clicks}` || ''}`;

        init?.props({
            clicks: 0,
        });

        function clicked() {
            return props({clicks: ++clicks});
        }

        return html`<button @click=${clicked} style=${style}>${label}</button>`;
    }
</script>

<a-button color="red"></a-button>

<details>
    <summary>Source...</summary>
    <xmp>
        <script type="module">
            funce("a-button", ['color'], aButton);
            function aButton({ clicks, color, init, props }) {
                
                const style = clicks ? `border-color:${color}; color:${color}` : '';
                
                const label = !clicks ?
                "please click" :
                `thank you ${clicks > 1 && `* ${clicks}` || ''}`;
                
                init?.props({
                    clicks: 0,
                });
                
                function clicked() {
                    return props({clicks: ++clicks});
                }
                return html`<button @click = ${clicked} style = ${style}>${label}</button>`;
            }
        </script>

        <a-button color="red"></a-button>
    </xmp>
</details>


</html>